{% extends  "academicPhylo_base.html" %}
{% block extrastyle %}
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.5/css/jquery.dataTables.css">
    <link rel="stylesheet" href="/static/css/academic_phylo.css" />
{% endblock %}
{% block javascript_doc_ready %}


    <script>
    $(document).ready(function() {
        //initiate the DataTable
        $("#search-table").DataTable({
            "ajax":"/search_table_json/" + "{% for key, value in filterArgs.items %}{% if forloop.first %}?{% else %}&{% endif %}{{ key }}={{ value }}{% endfor %}",
             "columnDefs": [
                { "visible": false, "targets": 0 }
             ],
            "fnRowCallback": function (nRow, aData, iDisplayIndex) {

                // Bind click event
                $(nRow).click(function() {
                      window.location.href='/detail/' + aData[0];
                });

                return nRow;
           }
        });

        $(".dataTables_filter input").focus();
        
    });
    </script>
{% endblock %}

{% block title %}
    <title>Search</title>
    <meta property="og:title" content="Search for PhDs by Name"/>
{% endblock %}

{% block base_content %}
<div id="main-wrapper">
    <div class="5grid-layout">
        {% if filterArgs %}
            <div class="row">
                <div class="12u">
                    {% for key, value in filterArgs.items %}
                        <li>{{ key }} = {{ value }}</li>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
        <div class="row">
            <div class="12u">
                <table class="compact hover" id="search-table">
                    <thead><td>id</td><td><strong>Student Last Name</strong></td><td><strong>Student First Name</strong></td><td><strong>Advisor Last Name</strong></td><td><strong>Advisor First Name</strong></td><td><strong>Year PhD Awarded</strong></td><td><strong>University</strong></td></thead>
                </table>
            </div>
        </div>
    </div>
</div>




    <!-- jQuery -->
    <script type="text/javascript" charset="utf8" src="//code.jquery.com/jquery-1.10.2.min.js"></script>

    <!-- DataTables -->
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.5/js/jquery.dataTables.js"></script>
{% endblock %}
